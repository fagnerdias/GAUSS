
struct rational_t is
	int numerador;
	int denominador;
endstruct

func fracao(int a, int b) return .rational_t is begin
	.rational_t valor;
	if (b != 0) then
	
	valor->numerador = a;
	valor->denominador = b;
	return valor;
	else then
		printf(%s, "\nO segundo param não pode ser zero \n");
		valor->denominador = 0;

		return valor;
	endif

end fracao

func iguais(.rational_t a, .rational_t b) return int is begin
	if ( a->numerador == b->numerador && a->denominador == b->denominador) then
		return 1;
	else then
		return 0;
	endif
end fracao


        

func soma(.rational_t a, .rational_t b) return float is begin
	float v;
	float w;
	float x;
	float y;
	float z;
	if (a->denominador == b->denominador) then
		y = a->numerador+b->numerador;
		x = a->denominador;
		z = y / x;
	else then 
		y = a->numerador*b->denominador;
		x = b->numerador*a->denominador;
		v = y + x;
		w = a->denominador * b->denominador;
		z = v/w;
	endif		
	 
	return z;
end soma


func subtracao(.rational_t a, .rational_t b) return float is begin
	float v;
	float w;
	float x;
	float y;
	float z;
	if (a->denominador == b->denominador) then
		y = a->numerador-b->numerador;
		x = a->denominador;
		z = y / x;
	else then 
		y = a->numerador*b->denominador;
		x = b->numerador*a->denominador;
		v = y - x;
		w = a->denominador * b->denominador;
		z = v/w;
	endif		
	 
	return z;
end subtracao



func multiplicacao(.rational_t a, .rational_t b) return float is begin
	float x = a->numerador*b->numerador;
	float y = a->denominador*b->denominador;
	float z = x / y;
	return z;
end fracao



func divisao(.rational_t a, .rational_t b) return float is begin
	float x = a->numerador*b->denominador;
	float y = b->numerador*a->denominador;
	float z = x / y;
	return z;
end divisao

func negacao(.rational_t a) return .rational_t is begin
	
	.rational_t z;
	z->numerador = -1 *a->numerador;
	z->denominador = a->denominador;
	
	return z;
end negacao

func inverso(.rational_t a) return .rational_t is begin
	.rational_t z;
	z->numerador = a->denominador;
	z->denominador = a->numerador;
	return z;
end inverso

main is begin

	.rational_t x;
	x = fracao(4,5);


	if (x->denominador == 0) then
		return 0;
	endif	

	.rational_t y;
	y = fracao(4,5);


	if (y->denominador == 0) then
		return 0;
	endif

	float result;
	int eq;

	eq = iguais(x, y);

	printf(%s, "Os informados são iguais?\n");

	if(eq == 1) then
		printf(%s, "Sim\n");
	else then
		printf(%s, "Não\n");
	endif



	result = soma(x, y);
	printf(%s, "\nResultado da soma\n");

	printf(%.10f, result);
	result = subtracao(x, y);
	printf(%s, "\nResultado da subtracao\n");

	printf(%.10f, result);
	result = multiplicacao(x, y);
	printf(%s, "\nResultado da multiplicacao\n");

	printf(%.10f, result);
	result = divisao(x, y);
	printf(%s, "\nResultado da divisao\n");

	printf(%.10f, result);


	x = negacao(x);
	printf(%s, "\nResultado da negacao\n");

	printf(%i, x->numerador);
	printf(%s, "\n");
	printf(%i, x->denominador);

	x = inverso(x);
	printf(%s, "\nResultado do inverso\n");

	printf(%i, x->numerador);
	printf(%s, "\n");
	printf(%i, x->denominador);
	printf(%s, "\n");


	eq = iguais(x, y);

	printf(%s, "E agora? informados são iguais?\n");

	if(eq == 1) then
		printf(%s, "Sim\n");
	else then
		printf(%s, "Não\n");
	endif

	
	return 0;
end